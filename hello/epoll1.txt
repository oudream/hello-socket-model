from:
https://github.com/millken/c-example